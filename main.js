var canvas=document.querySelector('canvas'),ctx=canvas.getContext('2d'),width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight;function random(a,b){var c=Math.floor(Math.random()*(b-a))+a;return c}function Ball(a,b,c,d,e,f){this.x=a,this.y=b,this.velX=c,this.velY=d,this.color=e,this.size=f}Ball.prototype.draw=function(){ctx.beginPath(),ctx.fillStyle=this.color,ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()},Ball.prototype.update=function(){this.x+this.size>=width&&(this.velX=-this.velX),0>=this.x-this.size&&(this.velX=-this.velX),this.y+this.size>=height&&(this.velY=-this.velY),0>=this.y-this.size&&(this.velY=-this.velY),this.x+=this.velX,this.y+=this.velY},Ball.prototype.collisionDetect=function(){for(var a=0;a<balls.length;a++)if(this!==balls[a]){var b=this.x-balls[a].x,c=this.y-balls[a].y,d=Math.sqrt(b*b+c*c);d<this.size+balls[a].size&&(balls[a].color=this.color='rgb('+random(0,255)+','+random(0,255)+','+random(0,255)+')')}};var balls=[];function loop(){for(ctx.fillStyle='rgba(0, 0, 0, 0.25)',ctx.fillRect(0,0,width,height);25>balls.length;){var a=random(10,20),b=new Ball(random(0+a,width-a),random(0+a,height-a),random(-7,7),random(-7,7),'rgb('+random(0,255)+','+random(0,255)+','+random(0,255)+')',a);balls.push(b)}for(var c=0;c<balls.length;c++)balls[c].draw(),balls[c].update(),balls[c].collisionDetect();requestAnimationFrame(loop)}loop();